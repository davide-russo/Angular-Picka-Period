<div class="calendar-wrapper">
  <div class="calendar-header">
    <div class="calendar-header-controls">
      <button class="calendar-header-nav-btn" mat-icon-button *ngIf="!position || position==='from'" (click)="changeMonth.emit(-1)">
        <mat-icon>keyboard_arrow_left</mat-icon>
      </button>
      <span class="calendar-header-month-year">{{monthName}} {{year}}</span>
      <button class="calendar-header-nav-btn" mat-icon-button *ngIf="!position || position==='to'" (click)="changeMonth.emit(1)">
        <mat-icon>keyboard_arrow_right</mat-icon>
      </button>
    </div>
    <div class="calendar-header-week">
      <span class="week-header-cell" *ngFor="let week of daysOfWeek">{{week}}</span>
    </div>
  </div>
  <div class="calendar-body">
    <div class="calendar-week" *ngFor="let row of calendar">
      <div class="calendar-day-wrapper" *ngFor="let day of row;"
           [attr.class]="getDayClasses(day, !!dayWrapper['isHover'])"
           (click)="selectDay.emit(day)" (mouseenter)="dayWrapper['isHover'] = true; hoverDay = day"
           (mouseleave)="dayWrapper['isHover'] = false; hoverDay = null" #dayWrapper>
        <span class="calendar-day-bg"></span>
        <span class="calendar-day-fg" matRipple [matRippleTrigger]="dayWrapper"></span>
        <span class="calendar-day">{{day.date()}}</span>
      </div>
    </div>
  </div>
</div>
